	[ORG 0x7c00]
	[BITS 16]

	JMP 0:ENTRYPOINT
ENTRYPOINT:
	CLI
	XOR AX, AX
	MOV ES, AX
	MOV DS, AX
	MOV SS, AX
	MOV AX, 0x7C00
	MOV SP, AX
	STI
	
	MOV byte [ENTRYPOINT], DL
	MOV SI, STR
	CALL PUTS

	MOV BX, 0x7E00
	MOV AH, 2
	MOV AL, 10
	MOV CH, 0
	MOV CL, 2
	MOV DH, 0
LOAD_DISK:
	INT 0x13
	JC LOAD_DISK
	
	CLI
	JMP NEXT
	
PUTS:
	PUSHA
	MOV AH, 0x0E
LOOP:
	LODSB
	OR AL, AL
	JZ ENDPUTS
	INT 0x10
	JMP LOOP
ENDPUTS:
	POPA
	RET

STR: 	db ">MINIMAL BOOT ENVIRONMENT STARTED",13,10,0

	times 510 - ($ - $$) db 0

	DW 0xAA55

NEXT:
